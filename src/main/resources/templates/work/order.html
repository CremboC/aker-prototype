<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="en" th:include="fragments/common :: head"></head>
<body>

<div th:replace="fragments/common :: header">...</div>

<div class="container">

    <div class="pager-header">
        <h1>
            Order Work
        </h1>
    </div>

    <div>
        <form action="">
            <table class="table table-hover">
                <thead>
                <tr>
                    <th>
                        Barcode
                    </th>
                    <th>
                        Main Alias
                    </th>
                    <th th:each="option : ${order.product.options}" th:text="${option.name}">
                    </th>
                </tr>
                </thead>
                <tbody>

                <tr th:each="sample : ${order.samples}">
                    <td>
                        <span th:text="${sample.barcode}"></span>
                        <input type="hidden" th:name="${'samples[' + sample.barcode + '][barcode]'}" th:value="${sample.barcode}" />
                    </td>
                    <td>

                    </td>
                    <td th:each="option : ${order.product.options}" th:with="value = ${sample.options[option.name]}">
                        <select th:if="${!option.restrictedOptions.isEmpty()}"
                                th:name="${'samples[' + sample.barcode + '][options][' + option.name + ']'}"
                                class="form-control">
                            <option value=""></option>
                            <option th:each="opt : ${option.restrictedOptions}"
                                    th:text="${opt}"
                                    th:selected="${opt == value}">
                            </option>
                        </select>

                        <input th:if="${option.restrictedOptions.isEmpty()}"
                               th:name="${'samples[' + sample.barcode + '][options][' + option.name + ']'}"
                               th:value="${value}"
                               type="text"
                               class="form-control" required="required"/>
                    </td>
                </tr>
                </tbody>
            </table>
        </form>
    </div>

</div>

<div th:replace="fragments/common :: footer"></div>

<script type="application/javascript">
    $(document).ready(function () {


    });
</script>

</body>
</html>